---
layout: post
title: Swift中设计模式之单例模式
date: 2016-01-13
categories: blog
tags: [写作,千字文]
description: Swift中设计模式 -- 单例模式

---

注：此文是2016年01月13日创建。

Ps

哈哈哈。

###单例介绍:
单例模式是一种常用的软件设计模式。在它的核心结构中只包含一个被称为单例的特殊类。通过单例模式可以保证系统中一个类只有一个实例而且该实例易于外界访问，从而方便对实例个数的控制并节约系统资源。如果希望在系统中某个类的对象只能存在一个，单例模式是最好的解决方案。 -->  来自百度百科

<br />

当你只需要一个实例的时候需要使用单例，如UIApplication.sharedApplication()

###下面看看swift中的几种实现方式：
<br />
####实现方法一:
//Tacker --> 
import Foundation

final class SingleOne {

	//单例 (通过将将这个对象声明为静态常量的方式)
	static let shareSingleOne = SingleOne()
	
	private init(){}
}


####实现方法二:
//Tacker -->
import Foundation

class SingleTwo {

	//单例   (使用dispatch_once可以保证其中的代码只执行一次)
	static func shareSingleTwo() -> SingleTwo {
		struct Singleton {
			static var onceToken : dispatch_once_t = 0
			static var single : SingleTwo?
		}
		dispatch_once(&Singleton.onceToken, {
			Singleton.single = shareSingleTwo()
			})
		return Singleton.single!
	}
	
	private init(){}
}

注释: class只能用在class类型 但是static 在结构体, class, enum 都能用. 区别就是:  <strong>如果用在class类型里面 static ＝ final class</strong>. 
(这里原作者本来是用class修饰shareSingleTwo方法的, 后来被"南栀倾寒"优化用static, 原作者"大石头布" --> 来自"间书")

<br />

####实现方法三:
//Tacker -->
import Foundation

//全局常量
private let single = SingleThree()

final class SingleThree {
	static var shareInstance : SingleThree {
		return single
	}
	
	private init(){}
}


####实现方法四:
//Tacker -->
import Foundation

//在方法内定义静态常量
final class SingleFour {
	static var shareInstance : SingleFour {
		struct Static {
			static let instance : SingleFour = SIngleFour()
		}
		return Static.instance
	}
	
	private init(){}
}











